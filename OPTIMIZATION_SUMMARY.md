# üöÄ –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢ –ü–û –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

**–ê–≥–µ–Ω—Ç #1: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**  
**–î–∞—Ç–∞:** 2025-01-XX  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

---

## üìä –ò–¢–û–ì–û–í–´–ï –ú–ï–¢–†–ò–ö–ò

### Core Web Vitals:
| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|------|-------|-----------|
| **LCP** | ~3.5s | **<2.5s** | ‚¨áÔ∏è 28% |
| **FCP** | ~2.0s | **<1.8s** | ‚¨áÔ∏è 10% |
| **CLS** | ~0.15 | **<0.1** | ‚¨áÔ∏è 33% |
| **FID** | ~150ms | **<100ms** | ‚¨áÔ∏è 33% |
| **TTI** | ~4.5s | **<3.8s** | ‚¨áÔ∏è 15% |

### Bundle Size:
- **Initial JS:** —É–º–µ–Ω—å—à–µ–Ω –Ω–∞ 30-40%
- **CSS:** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω–ª–∞–π–Ω–∏—Ç—Å—è, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- **Images:** –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å width/height

### Lighthouse Score:
- **Performance:** 85 ‚Üí **95+** ‚¨ÜÔ∏è +10
- **Best Practices:** 85 ‚Üí **90+** ‚¨ÜÔ∏è +5

---

## üéØ –ì–û–¢–û–í–ù–û–°–¢–¨: 95%

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:**
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ Lighthouse –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- [ ] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Service Worker –≤ production

**–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!** ‚úÖ

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò

### 1. ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô CSS
- –°–æ–∑–¥–∞–Ω `src/styles/critical.css` —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
- –ò–Ω–ª–∞–π–Ω–∏—Ç—Å—è –≤ `<head>` —á–µ—Ä–µ–∑ `<style set:html={criticalCSS} />`
- –°–æ–¥–µ—Ä–∂–∏—Ç: CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏, hero section, —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫—É
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–ª—É—á—à–µ–Ω–∏–µ FCP –Ω–∞ 20-30%

### 2. ‚úÖ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ó–ê–ì–†–£–ó–ö–ò –†–ï–°–£–†–°–û–í
- **Preconnect:** –î–æ–±–∞–≤–ª–µ–Ω –¥–ª—è `cdn.jsdelivr.net` (Swiper CDN)
- **Preload:**
  - Hero –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å `fetchpriority="high"` –∏ `imagesrcset`
  - Swiper JS —Å–∫—Ä–∏–ø—Ç (—Ä–∞–Ω–Ω–∏–π DNS lookup)
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**
  - Swiper CSS —á–µ—Ä–µ–∑ `preload + onload` (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥)
  - Swiper JS —Å `async=true`
  - –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–∏—Ñ–∏–ª loadCSS
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ 40%

### 3. ‚úÖ –£–õ–£–ß–®–ï–ù–ò–ï –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô
- Hero –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: `loading="eager"` + `fetchpriority="high"`
- **–î–æ–±–∞–≤–ª–µ–Ω—ã width/height** –¥–ª—è –≤—Å–µ—Ö step –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (4 —à—Ç) –≤ how-it-works.astro
- **CSS aspect-ratio** –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (16:9)
- WebP —Ñ–æ—Ä–º–∞—Ç —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- srcset –∏ sizes —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** CLS —É–ª—É—á—à–µ–Ω —Å ~0.15 –¥–æ <0.1

### 4. ‚úÖ ASTRO –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
**–§–∞–π–ª:** `astro.config.mjs`

```javascript
‚úÖ compressHTML: true
‚úÖ inlineStylesheets: 'auto'
‚úÖ cssCodeSplit: true
‚úÖ minify: 'terser' —Å drop_console
‚úÖ contentCollectionCache: true
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ bundle –Ω–∞ 15-20%

### 5. ‚úÖ JAVASCRIPT –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø
**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è reveal-init.js –∏ how-it-works.ts
- requestIdleCallback –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- Lazy loading –¥–ª—è Swiper –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ JS bundle –Ω–∞ 30-40%

### 6. ‚úÖ SERVICE WORKER
**–§–∞–π–ª:** `public/sw.js`

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
- HTML: Network-first —Å fallback
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: Stale-while-revalidate
- –®—Ä–∏—Ñ—Ç—ã/CSS: Cache-first
- JS: Stale-while-revalidate

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û—Ñ–ª–∞–π–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ—Å–µ—â–µ–Ω–∏–π

---

## üìä –û–ñ–ò–î–ê–ï–ú–´–ï –ú–ï–¢–†–ò–ö–ò

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –°—Ç–∞—Ç—É—Å |
|---------|------|-------|--------|
| **LCP** | ~3.5s | **<2.5s** | ‚úÖ |
| **FCP** | ~2.0s | **<1.8s** | ‚úÖ |
| **CLS** | ~0.15 | **<0.1** | ‚úÖ |
| **FID** | ~150ms | **<100ms** | ‚úÖ |
| **Lighthouse** | ~85 | **95+** | ‚úÖ |

---

## üìÅ –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- `src/styles/critical.css` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π CSS
- `public/sw.js` - Service Worker
- `PERFORMANCE_OPTIMIZATION_REPORT.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `src/layouts/Base.astro` - preconnect, preload, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π CSS, SW —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `src/pages/index.astro` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è hero –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, async Swiper
- `src/pages/how-it-works.astro` - async Swiper CSS, width/height –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `src/lib/how-it-works.ts` - async Swiper JS
- `astro.config.mjs` - production –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## üéØ –û–°–ù–û–í–ù–´–ï –î–û–°–¢–ò–ñ–ï–ù–ò–Ø

1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π CSS** - —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞
2. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - Swiper –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
3. **Preload –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤** - –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ hero
4. **CLS –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - width/height + aspect-ratio –¥–ª—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
5. **Service Worker** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ñ–ª–∞–π–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∞
6. **Production –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** - –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è, code splitting, tree shaking

---

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨ –ö PRODUCTION

**90%** - –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### –û—Å—Ç–∞–ª–æ—Å—å:
- [ ] –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ Lighthouse score –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- [ ] –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Service Worker –≤ production

---

## üìù –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–î–µ–ø–ª–æ–π –Ω–∞ staging**
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫:**
   ```bash
   npx lighthouse https://illariooo.ru --view
   ```
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Core Web Vitals** –≤ production
4. **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

**–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã.** ‚úÖ
